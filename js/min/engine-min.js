var Engine=function(t){function e(){var t=Date.now(),n=(t-q)/1e3;i(n),m(),a(g),q=t,d.requestAnimationFrame(e)}function n(){q=Date.now(),grids.init(),events.init(),e()}function i(t){events.gameStarted&&(v+=t,h>v||(v=0,o()))}function o(){control.update(),s()}function a(t){r(t)}function r(t){grids.render(t)}function m(){g.fillStyle=this.background,g.fillRect(0,0,f.width,f.height)}function u(){}function s(){h=events.getSpeed()}var c=t.document,d=t.window,f=c.getElementById("game"),g=f.getContext("2d"),h=.5,l=this,q,v;d.requestAnimationFrame=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame;var w=20,A=20,F=40,R=40,S=A*R,b=w*F;f.height=S+1,f.width=b+1,n()}(this);